{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/petru/Desktop/rss_feader/frontend/src/Search.js\";\nimport React, { Component } from 'react';\nimport axios from \"axios\";\nimport NotFound from './NotFound';\nimport MapResult from './MapResult';\nimport background from './img/background.mp4';\nimport SearchCity from './SearchCity';\nimport './Search.css';\nexport default class Map extends Component {\n  constructor() {\n    super();\n\n    this.handleInputChange = e => {\n      this.setState(prevState => {\n        let dbResponse = prevState.dbResponse;\n        let value = e.target.value;\n        let lastValue = prevState.lastValue;\n        return {\n          dbResponse,\n          value,\n          lastValue\n        };\n      });\n    };\n\n    this.handleSearchCity = e => {\n      e.preventDefault();\n      axios.get(\"http://localhost:9000/getWeatherData?county=\" + this.state.value).then(response => {\n        this.setState(prevState => {\n          let dbResponse = response.data;\n          let value = prevState.value;\n          let lastValue = this.state.value;\n          return {\n            dbResponse,\n            value,\n            lastValue\n          };\n        });\n      });\n    };\n\n    this.state = {\n      dbResponse: null,\n      value: '',\n      lastValue: ''\n    };\n  }\n\n  displayData(data) {\n    if (data.length === 5) {\n      let weatherCall = {\n        city: this.state.lastValue,\n        forecast: this.state.dbResponse\n      };\n      return /*#__PURE__*/_jsxDEV(MapResult, {\n        weather: weatherCall\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 20\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(NotFound, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }, this);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"video\", {\n        autoPlay: true,\n        muted: true,\n        loop: true,\n        id: \"background-video\",\n        children: /*#__PURE__*/_jsxDEV(\"source\", {\n          src: background,\n          type: \"video/mp4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(SearchCity, {\n        value: this.state.value,\n        showResult: true,\n        change: this.handleInputChange,\n        submit: this.handleSearchCity\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"centerResponse\",\n        children: this.state.dbResponse ? this.displayData(this.state.dbResponse) : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true);\n  }\n\n}","map":{"version":3,"sources":["/home/petru/Desktop/rss_feader/frontend/src/Search.js"],"names":["React","Component","axios","NotFound","MapResult","background","SearchCity","Map","constructor","handleInputChange","e","setState","prevState","dbResponse","value","target","lastValue","handleSearchCity","preventDefault","get","state","then","response","data","displayData","length","weatherCall","city","forecast","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from \"axios\"\nimport NotFound from './NotFound';\nimport MapResult from './MapResult';\nimport background from './img/background.mp4'\nimport SearchCity from './SearchCity';\nimport './Search.css'\n\nexport default class Map extends Component {\n    constructor() {\n        super();\n        this.state = {\n            dbResponse: null,\n            value: '',\n            lastValue: ''\n        };\n    }\n\n    handleInputChange = e => {\n        this.setState(prevState => {\n          \n            let dbResponse = prevState.dbResponse;\n            let value = e.target.value;\n            let lastValue = prevState.lastValue;\n            return { dbResponse, value, lastValue }; \n        });\n    }\n\n    handleSearchCity = e => {\n        e.preventDefault();\n        \n        axios.get(\"http://localhost:9000/getWeatherData?county=\" + this.state.value)\n        .then((response) => {\n            this.setState(prevState => {\n                let dbResponse = response.data;\n                let value = prevState.value;\n                let lastValue = this.state.value;\n                return { dbResponse, value, lastValue}; \n            })\n        });\n        \n    }\n\n    displayData(data) {\n        if (data.length === 5) {\n            let weatherCall = {\n                city: this.state.lastValue,\n                forecast: this.state.dbResponse\n            }\n            return(<MapResult weather={weatherCall} />)\n        }\n        else {\n            return (<NotFound />)\n        }\n    }\n\n    render() {\n        return (\n       \n    <>\n            <video autoPlay muted loop id=\"background-video\">\n                <source src={background} type=\"video/mp4\" />\n            </video>\n        \n            <SearchCity\n                value={this.state.value}\n                showResult={true}\n                change={this.handleInputChange}\n                submit={this.handleSearchCity}\n            />\n            <div id=\"centerResponse\">\n                {this.state.dbResponse ? this.displayData(this.state.dbResponse)  : null}\n            </div>\n    </> \n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}